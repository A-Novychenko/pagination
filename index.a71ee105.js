const e={headers:{Authorization:"e5d2cb43efb04745abf19514edb10ab3"}};const t={searchForm:document.querySelector(".js-search-form"),articlesContainer:document.querySelector(".js-articles-container")},r=new class{fetchArticles(){const t=`https://newsapi.org/v2/everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;return fetch(t,e).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((({articles:e})=>(this.page+=1,e))).catch((e=>alert(`Что-то пошло не так! ERROR:${e}`)))}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){return this.searchQuery=e}constructor(){this.searchQuery="",this.page=1}},s=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.label=t.button.querySelector(".label"),t.spinner=t.button.querySelector(".spinner"),t}enable(){this.refs.button.disabled=!1,this.refs.label.textContent="Показать ещё",this.refs.spinner.classList.add("is-hidden")}disable(){this.refs.button.disabled=!0,this.refs.label.textContent="Загружаем...",this.refs.spinner.classList.remove("is-hidden")}show(){this.refs.button.classList.remove("is-hidden")}hide(){this.refs.button.classList.add("is-hidden")}constructor({selector:e,hidden:t=!1}){this.refs=this.getRefs(e),t&&this.hide()}}({selector:'[data-action="load-more"]',hidden:!0});function n(){r.fetchArticles().then((e=>{!function(e){const r=e.reduce(((e,{url:t,urlToImage:r,title:s,author:n,description:i})=>e+`  <li>\n            <a href="${t}" target="_blank" rel="noopener noreferrer">\n                <article>\n                    <img src="${r}" alt="" width="480">\n                    <h2>${s}</h2>\n                    <p>Posted by: ${n}</p>\n                    <p>${i}</p>\n                </article>\n            </a>\n         </li>`),"");t.articlesContainer.insertAdjacentHTML("beforeend",r)}(e),s.enable()})),s.show(),s.disable()}t.searchForm.addEventListener("submit",(function(e){if(e.preventDefault(),function(){t.articlesContainer.innerHTML=""}(),r.resetPage(),r.query=e.currentTarget.elements.query.value,""===r.query)return void alert("Поле поиска не должно быть пустым!");n()})),s.refs.button.addEventListener("click",n);
//# sourceMappingURL=index.a71ee105.js.map
