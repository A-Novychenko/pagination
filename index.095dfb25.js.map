{"mappings":"AAMA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,mBACnCC,kBAAmBF,SAASC,cAAc,0BAC1CE,YAAaH,SAASC,cAAc,8BAGhCG,EAAiB,ICZR,MAMbC,gBACE,MAMMC,EAAM,uCAAuCC,KAAKC,2CAA2CD,KAAKE,OAExGC,MAAMJ,EARU,CACdK,QAAS,CACPC,cAAe,sCAOhBC,MAAKC,GAAQA,EAAKC,SAClBF,MAAKG,IACJC,QAAQC,IAAIF,GACZT,KAAKE,MAAQ,CAAC,G,CAIhBU,YACF,OAAOZ,KAAKC,W,CAGVW,UAAMC,GACR,OAAQb,KAAKC,YAAcY,C,CA3B7BC,cACEd,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,GDWhBX,EAAKC,WAAWuB,iBAAiB,UAGjC,SAAkBC,GAChBA,EAAEC,iBAEFpB,EAAee,MAAQI,EAAEE,cAAcC,SAASP,MAAMQ,MACtDvB,EAAeC,cAAcG,Y,IAN/BV,EAAKK,YAAYmB,iBAAiB,SASlC,WACElB,EAAeC,cAAcG,Y","sources":["src/index.js","src/js-components/news-api.js"],"sourcesContent":["// import articlesTpl from './templates/articles.hbs';\nimport './css/common.css';\n\nimport NewsApiService from './js-components/news-api';\n// import LoadMoreBtn from './js/components/load-more-btn';\n\nconst refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  articlesContainer: document.querySelector('.js-articles-container'),\n  loadMoreBtn: document.querySelector('[data-action=\"load-more\"]'),\n};\n\nconst newsApiService = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  newsApiService.query = e.currentTarget.elements.query.value;\n  newsApiService.fetchArticles(searchQuery);\n}\n\nfunction onLoadMore() {\n  newsApiService.fetchArticles(searchQuery);\n}\n\n//39min\n","export default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    const options = {\n      headers: {\n        Authorization: 'e5d2cb43efb04745abf19514edb10ab3',\n      },\n    };\n\n    const url = `https://newsapi.org/v2/everything?q=${this.searchQuery}&language=ru&pageSize=5&page=${this.page}`;\n\n    fetch(url, options)\n      .then(resp => resp.json())\n      .then(data => {\n        console.log(data);\n        this.page += 1;\n      });\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQwery) {\n    return (this.searchQuery = newQwery);\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","articlesContainer","loadMoreBtn","$1f0dc3b9307be026$var$newsApiService","fetchArticles","url","this","searchQuery","page","fetch","headers","Authorization","then","resp","json","data","console","log","query","newQwery","constructor","addEventListener","e","preventDefault","currentTarget","elements","value"],"version":3,"file":"index.095dfb25.js.map"}